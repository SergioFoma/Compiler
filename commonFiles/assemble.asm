IN
PUSHR RDX
PUSH 0
POPR RBX
POPM [RBX]
CALL :0
PUSH 1
POPR RBX
POPM [RBX]
PUSH 0
POPR RAX
PUSHM [RAX]
OUT
PUSH 1
POPR RAX
PUSHM [RAX]
OUT
JMP :1
:0
PUSH 0
POPR RAX
PUSHM [RAX]
PUSH 1
PUSH 3
POPR RBX
POPM [RBX]
:3
PUSH 0
POPR RAX
PUSHM [RAX]
PUSH 0
JA :4
PUSH 3
POPR RAX
PUSHM [RAX]
PUSH 0
POPR RAX
PUSHM [RAX]
MUL
PUSH 3
POPR RBX
POPM [RBX]
PUSH 0
POPR RAX
PUSHM [RAX]
PUSH 1
SUB
PUSH 0
POPR RBX
POPM [RBX]
JMP :3
:4
PUSH 3
POPR RAX
PUSHM [RAX]
RET
:1
DRAW
HLT
